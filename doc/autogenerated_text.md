# Autogenerated Text Specification

This document specifies, in pseudocode, the autogenerated text shown on taxon overview pages (e.g., [https://eol.org/pages/311544](https://eol.org/pages/311544)).

Let *t* be a taxon on EOL, *a1* be the closest ancestor of *t* with a landmark value of ‘minimal’, and *f* be the family that *t* belongs to. *a1* and *f* may be null.
*subj* is determined dynamically as follows:

In general, *subj* follows the cycle (*t.canonical_name*, *pronoun*, *pronoun*) where *pronoun* is "it" if *t* is a species (or below), and "they" otherwise.  
Exceptions:  
If a given sentence *s<sub>n</sub>* does not begin with *subj*, the cycle starts over for *s<sub>n + 1</sub>*.  
"*t.canonical_name* (*t.vernacular_name*) replaces *t.canonical_name* in the first sentence.  

Sentences are appended in the order presented.  

```
if t is a family:
	"subj is a family of a1."
else if t is a genus:
	if f:
		"subj is a genus of a1 in the family f."
	else:
		"subj is a genus of a1."
else if t is a species:
  Taxonomy sentence: subj is a species of [something] in the family f
  check values of http://eol.org/schema/terms/growthHabit
  Plans A,B,C: all to be inserted in the taxonomy sentence as [something]

  A
  http://purl.obolibrary.org/obo/FLOPO_0900033
  OR http://purl.obolibrary.org/obo/FLOPO_0900034

  eg: subj is a species of shrub in the family f

  OR, if absent

  B
  (if present) value term for predicate
  http://purl.obolibrary.org/obo/TO_0002725

  followed by: 
  http://purl.obolibrary.org/obo/FLOPO_0900036
  http://purl.obolibrary.org/obo/FLOPO_0022142
  OR https://www.wikidata.org/entity/Q190903

  eg: subj is a species of grass in the family f
  eg: subj is a species of annual grass in the family f

  OR, if absent

  C
  http://eol.org/schema/terms/lichenous
  https://www.wikidata.org/entity/Q757163
  OR http://eol.org/schema/terms/semi-woody

  followed by a1

  eg: subj is a species of semi-woody a1 in the family f
  Plan D:

  If none of the above values are present:
  a1

  eg: subj is a species of a1 in the family f

  Plans E,F: probably never overlap with A/B/C, so these can be independent. Sentence(s) after taxonomy sentence:

  E
  It is a(n)
  http://eol.org/schema/terms/obligateClimber
  http://eol.org/schema/terms/facultativeClimber
  http://purl.obolibrary.org/obo/FLOPO_0900035
  https://www.wikidata.org/entity/Q14079
  http://www.wikidata.org/entity/Q189939
  .

  F
  It has a 
  http://eol.org/schema/terms/crustose
  http://eol.org/schema/terms/squamulose
  http://eol.org/schema/terms/fructose
  http://eol.org/schema/terms/self-supportingGrowthForm
  http://eol.org/schema/terms/foliose
  http://purl.obolibrary.org/obo/PATO_0002389
  growth form.
	
	if t is extinct:
		"This species is extinct."
	else if t has conservation status records:
		"subj is listed as <status 1> by <provider 1>, ... , and <status n> by <provider n>."

	if t has marine environment records and t does not have terrestrial environment records:
		"subj is found in marine habitat."
	else if t has freshwater environment records
		"subj is associated with freshwater habitat."

  if t has native range records:
    "subj is native to <comma-separated list of records>."
	else if t has biogeographic realm records:
		"subj is found in <unique values of records>."

if t has landmark children:
	"subj includes groups like <landmark children, limited to 3>."

if t has plant description traits:
	Plant description sentence, e.g. "subj has <leaf trait values> leaves, <flower trait value> flowers, and <fruit trait value>."

if t has fixes:nitrogen records:
  "subj fixes/fix nitrogen."

if t has forms records:
  "<lifestage> <t.canonical_name> form(s) <first trait value>s."

if t has ecosystem engineering records:
  "subj is a <first trait value>."

if t has flower visitor traits:
	"Flowers are visited by <flower visitor trait values>."

if t is a species:
	if t has behavior traits:
    Note: behavior traits are defined as follows
    * having object term nocturnal (http://www.wikidata.org/entity/Q309179), diurnal (http://www.wikidata.org/entity/Q906470), or crepuscular (http://purl.obolibrary.org/obo/ECOCORE_00000078) (or descendants thereof)
    * having object term solitary (http://eol.org/schema/terms/solitary) or descendant thereof
    * having predicate trophic guild (http://eol.org/schema/terms/TrophicGuild) or descendant thereof

		Behavioral sentence, e.g., "subj is a solitary, nocturnal carnivore."

  if both lifespan and [body length or body mass] traits are present:
    "Individuals are known to live for <first trait value> <first trait units>, and can grow to <largest trait value> <largest trait units>."
  else if t has lifespan traits:
		"Individuals are known to live for <first trait value> <first trait units>."
  else if t has body length or body mass traits:
		"Individuals can grow to <largest trait value> <largest trait units>."

  if t has reproduction (or children thereof) records:
    if t is a species:
      "subj has <V>. subj is a <W>. subj has <Y> <predicate of Y>. Reproduction is <X>. subj has parental care (<Z>)."
    else if t is a family/genus/landmark taxon:
      "subj have <V>. subj are <W>s. subj have <Y> <predicate of Y>. Reproduction is <X>. subj have parental care (<Z>)."

    if Z is present, remove “parental care” from V.

    if multiple distinct values, list all, separated by comma/”and”/”and a”

    if both V and W are present, construct as:
      "subj has/have <V>; it is/they are..."

    values:
    V: sexual reproduction, asexual reproduction, alternation of generations, transverse division, unisexual flowers, dwarf males, sexual metamorphosis, parental care

    W: synchronous hermaphrodite, hermaphrodite, sequential hermaphrodite, broadcast spawner, sac spawner, protandrous hermaphrodite, protogynous hermaphrodite

    X: iteroparous, semelparous, viviparous, oviparous, ovoviviparous, dioecious, duodichogamous, monoecious, andromonoecious, polygamodioecious, polygamomonoecious, gonochoristic, dioicous, monoicous, diandric, monandric

    Y: no, variable "<predicate>"

    Z: paternal care, symbiont inheritance, occasionally breeds cooperatively, pair provides care, cooperative breeding, only female provides care, social group, only male provides care, brooding

if t has motility or locomotion records, one of the following, in this order of preference:
  "subj relies on [C] to move around"

  OR "subj is a(n) [A] [B]."

  OR "subj is a(n) [A] animal/organism.”

  OR "t is a [B]."
   
  values: 
  A: facultatively mobile, aerial, sessile, fast moving, passively mobile, slow moving, cursorial

  B: burrower, crawler, swimmer

  C: flight, ciliary gliding, arboreal locomotion, saltation, gliding, running
```

